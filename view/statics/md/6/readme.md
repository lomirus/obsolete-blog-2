# å‡ ä¸ªçŸ¥ä¹Žå’Œç®€ä¹¦çš„æ²¹çŒ´è„šæœ¬

åˆå§‹åˆ›å»ºäºŽï¼š***2020/12/03***

æœ€åŽç¼–è¾‘äºŽï¼š***2020/12/17***

## å†™è„šæœ¬çš„èµ·å› 

æ˜¨å¤©æ™šä¸Šçªç„¶æƒ³äº†è§£ä¸€ä¸‹ Archï¼ŒäºŽæ˜¯æ‰“å¼€ç™¾åº¦é”®å…¥å…³é”®è¯å›žè½¦ã€‚åœ¨æœç´¢ç»“æžœé¡µé¢å‘çŽ°äº†ä¸€ä¸ªçŸ¥ä¹Žé¡µé¢ï¼Œç„¶åŽå°±ä¸åŠ æ€ç´¢åœ°ç‚¹å¼€äº†ã€‚ç»“æžœæ²¡æƒ³åˆ°ï¼Œæˆ‘ä¸€çªå¼€å°±çªç„¶å†’å‡ºäº†ä¸ªç™»å½•æ¡†ã€‚å½“æ—¶æˆ‘å°±å¿ƒæƒ³ï¼Œç®—äº†ï¼Œç™»å½•æ¡†å°±ç™»å½•æ¡†å§ï¼Œç‚¹ä¸€ä¸‹å…³é—­æŒ‰é’®ä¸å°±è¡Œäº†å˜›ï¼Œæ¯•ç«ŸçŸ¥ä¹Žæžå¼¹çª—ä¹Ÿä¸æ˜¯ä¸€ä¸¤å¤©äº†ã€‚

![1](1.png)

å› ä¸ºä»¥å‰çš„è¯æˆ‘ä¸€èˆ¬æ˜¯é€šè¿‡ç‚¹å‡»ç™»å½•æ¡†åŽé¢çš„é˜´å½±å±‚æ¥æŠŠå®ƒå…³é—­çš„ï¼Œæ‰€ä»¥è¿™æ¬¡æˆ‘ä¹Ÿä¸‹æ„è¯†åœ°ç‚¹äº†ä¸€ä¸‹ï¼Œä½†æ˜¯å´å‘çŽ°æ²¡æœ‰ååº”ã€‚æˆ‘ä»”ç»†ä¸€çœ‹ï¼Œå‘çŽ°ç™»å½•é¡µé¢å¥½åƒæ˜¯è¢«æ›´æ–°è¿‡äº†ï¼Œå†ä»”ç»†ä¸€çœ‹ï¼Œå‘çŽ°å…³é—­æŒ‰é’®ä¹Ÿæ²¡äº†ã€‚ä¸çŸ¥æ‰€æŽªçš„æˆ‘åˆæŠ±ç€æ­»ðŸŽå½“æ´»ðŸŽåŒ»çš„å¿ƒæ€å¤šç‚¹äº†ä¸€ä¸‹å„ä¸ªä½ç½®ï¼Œç»“æžœä¾æ—§â€”â€”æ¯«æ— ååº”ã€‚

> æˆ‘å‘æ¥æ˜¯ä¸æƒ®ä»¥æœ€åçš„æ¶æ„æ¥æŽ¨æµ‹çŸ¥ä¹Žçš„ã€‚ä½†è¿™å›žå´å¾ˆæœ‰å‡ ç‚¹å‡ºäºŽæˆ‘çš„æ„å¤–ã€‚ä¸€æ˜¯ç®¡ç†è€…ç«Ÿä¼šè¿™æ ·åœ°å‡¶æ®‹ï¼Œä¸€æ˜¯äº§å“ç»ç†ç«Ÿè‡³å¦‚æ­¤ä¹‹ä¸‹åŠ£ï¼Œä¸€æ˜¯çŸ¥ä¹Žç”¨æˆ·ä¸´éš¾ç«Ÿèƒ½å¦‚æ˜¯ä¹‹ä»Žå®¹ã€‚

è™½ç„¶ä»¥å‰æ—©å°±å› ä¸ºçŸ¥ä¹Žå„ç§æ¶å¿ƒæ“ä½œè€Œé€€ä¹Žäº†ï¼Œä½†æ˜¯æœ‰æ—¶å€™æŸ¥ä¸€äº›èµ„æ–™æ—¶è¿˜æ˜¯è¦ç”¨åˆ°çš„ã€‚ä½†æ˜¯ï¼Œæˆ‘æ˜¯æ— è®ºå¦‚ä½•éƒ½æ— æ³•æŽ¥å—è¿™ç§é›·æ™®ç”¨æˆ·çš„è¡Œä¸ºçš„ï¼Œæ‰€ä»¥æˆ‘æœ€ç»ˆå‡†å¤‡å†™ä¸ªè„šæœ¬ï¼Œæ¥å’ŒçŸ¥ä¹Žæ–—æ™ºæ–—å‹‡ã€‚

## Talk is cheap, show me the code

è¯´å®žè¯ï¼Œå…¶å®žä¸€å¼€å§‹æˆ‘ä¹Ÿæ˜¯æ‡’å¾—å†™è„šæœ¬çš„ã€‚æœ¬å°±æƒ³ç€ç”¨ä¸ª Adblock æŠŠä»–å±è”½æŽ‰ï¼Œä½†æ˜¯è¯•è¿‡ä¹‹åŽå‘çŽ°é¡µé¢æ— æ³•æ»šåŠ¨ï¼ŒæŸ¥çœ‹å…ƒç´ ä¹‹åŽå‘çŽ°æ˜¯å› ä¸º`html`å…ƒç´ çš„`overflow`å±žæ€§è¢«è®¾ç½®`hidden`äº†ã€‚è™½ç„¶è²Œä¼¼ä¹Ÿèƒ½é€šè¿‡å†åŠ ä¸ª Stylish æ’ä»¶æ¥è§£å†³ï¼Œä½†æ˜¯è¿™æ ·å®žåœ¨å¤ªè‡ƒè‚¿äº†ï¼Œæ‰€ä»¥æœ€ç»ˆè¿˜æ˜¯æƒ³ç€è‡ªå·±å†™ä¸ªè„šæœ¬ã€‚ä¸‹é¢å°±æ˜¯å±è”½çŸ¥ä¹Žç™»å½•æ¡†çš„ä»£ç ï¼š

```javascript
// ==UserScript==
// @name         å±è”½çŸ¥ä¹Žç™»å½•æ¡†
// @namespace    http://tampermonkey.net/
// @version      0.1.0
// @description  å±è”½çŸ¥ä¹Žç™»å½•æ¡†
// @author       Anno
// @match        https://www.zhihu.com/question/*
// @grant        none
// ==/UserScript==

'use strict';
window.addEventListener('load',function(){
    console.clear()
    const html = document.querySelector('html')
    const divs = document.querySelectorAll('body>div')
    for(let i = 1;i < divs.length;i++) divs[i].remove()
    html.style.overflow = 'auto'
})
```

å…¶å®ž`console.clear()`åŠ ä¸åŠ éƒ½æ— æ‰€è°“ï¼Œä¸»è¦å› ä¸ºæˆ‘è°ƒè¯•è„šæœ¬æ—¶å‘çŽ°çŸ¥ä¹Žé¡µé¢çš„æŽ§åˆ¶å°æœ‰ä¸€å †æŠ¥é”™å’Œè­¦å‘Šï¼Œæ‰€ä»¥å°±å…ˆæ¸…ç†ä¸€ä¸‹ï¼ˆç»“æžœæœ€ç»ˆè°ƒè¯•å®Œä¹‹åŽå†³å®šè¿˜æ˜¯æŠŠå®ƒç•™äº†ä¸‹æ¥ï¼‰ã€‚

## æ–¹è„±çŸ¥ä¹Žï¼Œåˆå…¥ç®€ä¹¦

è¿‡äº†ä¸€ä¼šå„¿åˆåŽ»æŸ¥äº†ç‚¹æœ‰å…³ Canvas ç²’å­ç‰¹æ•ˆçš„èµ„æ–™ï¼Œç»“æžœæ‰¾åˆ°äº†ä¸€ç¯‡ç®€ä¹¦çš„æ–‡ç« ã€‚é‡Œé¢æœ‰ä¸ªä¾‹å­ä¼¼ä¹Žä¸é”™ï¼ŒäºŽæ˜¯å°±ç‚¹å¼€äº†é“¾æŽ¥ã€‚ä¸è¿‡æ‰“å¼€ä¹‹åŽå¹¶ä¸æ˜¯ç›´æŽ¥è·³è½¬åˆ°ç›®æ ‡é¡µé¢ï¼Œè€Œæ˜¯è¿›å…¥äº†ä¸€ä¸ªä¸­è½¬é¡µé¢ï¼Œæç¤ºå®‰å…¨æ€§æœªçŸ¥ blablabla. 

![2](2.png)

è¿™ä¸€èˆ¬ç½‘ç«™è™½ç„¶ä¹Ÿæœ‰å·®ä¸å¤šçš„æç¤ºï¼Œä½†æ˜¯ä¹Ÿä¸è‡³äºŽè¿˜å¾—è®©ç”¨æˆ·è‡ªä¸ªå„¿å¤åˆ¶ç²˜è´´ä¸€æ¡é¾™å§ï¼Ÿæç›´æŽ¥ç»™ä¸ªæŒ‰é’®ç¡®è®¤è·³è½¬ä¸è¡Œï¼Ÿå®³ï¼Œæ‚¨è¿˜åˆ«è¯´(shÃ¹o)ï¼Œè¿™ç®€ä¹¦ï¼Œä»–è¿˜å°±çœŸ(zhÃ¨n)ä¸è¡Œï¼

äºŽæ˜¯æ‡’å¾—å¤åˆ¶ç²˜è´´çš„æˆ‘ä¸€ä¸åšäºŒä¸ä¼‘ï¼Œç´¢æ€§ä¹Ÿç»™ç®€ä¹¦å†™äº†ä¸ªè„šæœ¬ï¼Œä»£ç å¦‚ä¸‹ï¼š

```javascript
// ==UserScript==
// @name         ç®€ä¹¦å¤–é“¾è‡ªåŠ¨è·³è½¬
// @namespace    http://tampermonkey.net/
// @version      0.1.0
// @description  ç®€ä¹¦å¤–é“¾è‡ªåŠ¨è·³è½¬
// @author       Anno
// @match        https://www.jianshu.com/go-wild*
// @grant        none
// ==/UserScript==

'use strict';
(function() {
    document.write('Redirecting...')
    const search = location.search
    const query = search.slice(1, search.length).split("&")
    for (let i in query) {
        let kvp = query[i].split('=')
        if (kvp[0] == 'url'){
            location.href = unescape(kvp[1])
        }
    }
})();
```

## æ—¢ç¦»ç®€ä¹¦ï¼Œå¤è¿”çŸ¥ä¹Ž

æ—¢ç„¶éƒ½ç»™ç®€ä¹¦å†™äº†ä¸ªè‡ªåŠ¨è·³è½¬çš„è„šæœ¬ï¼Œé‚£ä¹Ÿä¸èƒ½è®©çŸ¥ä¹Žå¹²æ„£ç€å‘€ã€‚æ‰€ä»¥çŸ¥ä¹Žå¤–é“¾è‡ªåŠ¨è·³è½¬è„šæœ¬ä¹Ÿèµ¶ç´§ç»™å®‰æŽ’ä¸Šï¼š

```javascript
// ==UserScript==
// @name         çŸ¥ä¹Žå¤–é“¾è‡ªåŠ¨è·³è½¬
// @namespace    http://tampermonkey.net/
// @version      0.1.0
// @description  çŸ¥ä¹Žå¤–é“¾è‡ªåŠ¨è·³è½¬
// @author       Anno
// @match        http*://link.zhihu.com/*
// @grant        none
// ==/UserScript==

'use strict';
(function() {
    document.write('Redirecting...')
    const search = location.search
    const url = search.slice(8, search.length)
    location.href = unescape(url)
})();
```

å¦å¤–æœ‰ä¸€ä¸ªè¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯ï¼Œ`link.zhihu.com`çš„åè®®å¥½åƒæ˜¯ä¸å›ºå®šçš„ï¼Œæœ‰çš„æ˜¯`http`æœ‰çš„åˆ™æ˜¯`https`ï¼Œä¸€å¼€å§‹æˆ‘çš„`@match`åªåŒ¹é…äº†`https`çš„ï¼Œæ²¡æƒ³åˆ°çŸ¥ä¹Žå±…ç„¶æœ‰çš„é¡µé¢è¿˜åœ¨ç”¨`http`ï¼Œæ‰€ä»¥å½“æ—¶ debug äº†åŠå¤©ç¡¬æ˜¯æ²¡æ‰¾å‡ºæ¥ï¼Œç”šè‡³è¿˜ä»¥ä¸ºæ˜¯ Tampermonkey å‡º bug äº†(Â°ãƒ¼Â°ã€ƒ)

## ä¿®è®¢è®°å½•

### 2020/12/17

* ä¿®æ­£äº†ä¸€ä¸ªé”™åˆ«å­—





